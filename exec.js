#!/usr/bin/env node

import{createRequire as e}from"module";import*as o from"@capacitor/core";import*as r from"colors";var a={n:e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return a.d(o,{a:o}),o},d:(e,o)=>{for(var r in o)a.o(o,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o)};const t=e(import.meta.url)("path");var s=a.n(t);const i=e(import.meta.url)("url"),d=(m={Capacitor:()=>o.Capacitor},u={},a.d(u,m),u),c=(0,i.fileURLToPath)("file:///Users/timmoritzkuehle/Library/CloudStorage/Dropbox/Dokumente/Coding/ionic-web-app-dev-proxy/Code/constants.js"),l=t.dirname(c),n="undefined"!=typeof process?null===process||void 0===process?void 0:process.env:void 0,p=(!d.Capacitor.isNativePlatform()&&(void 0===n.MODE||n.MODE),"undefined"!=typeof process&&process.argv.includes("--webpack-watch"),["serveWithProxy","startProxyServer"]);var m,u;const v=(e=>{var o={};return a.d(o,e),o})({default:()=>r.default}),f=(v.default.grey((new Date).toLocaleTimeString(Intl.DateTimeFormat().resolvedOptions().locale)),v.default.cyan.bold(" [webAppDevProxy] "),e=>{var o;console.log(v.default.red(((null===(o=e.stack)||void 0===o?void 0:o.split("\n")[0])||`Error: ${e.code}: `+e.message.replace(/ionic-web-app-dev-proxy|\[[^\]]+\]/g,(e=>v.default.yellow(e.replace(/[[\]]/g,"")))))+v.default.cyan("\n\nNote: Valid commands are "+p.reduce(((e,o,r)=>(0!==r?e+(r<p.length-1?", ":" and "):"")+v.default.yellow(o)),"")+"\n")))}),g=e(import.meta.url)("child_process");process.argv.length<=2&&(f({code:"EMISSARG",message:"Missing argument: ionic-web-app-dev-proxy needs to be provided with a command to execute"}),process.exit(1));const y=process.argv[2];p.includes(y)||(f({code:"EINVARG",message:`Invalid argument: [${y}] is not a valid command`}),process.exit(1)),(0,g.fork)(s().resolve(l,`scripts/${y}.js`));